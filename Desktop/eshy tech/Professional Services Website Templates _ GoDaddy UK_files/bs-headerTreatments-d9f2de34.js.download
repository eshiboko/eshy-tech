define("@widget/LAYOUT/c/bs-headerTreatments-d9f2de34.js",["exports","@widget/LAYOUT/c/bs-countVCTElement"],(function(e,t){"use strict";const n=[1,1.5,2,3],c=/[.-]wsimg\.com\//;function r(e){let t=void 0;if(!e||!c.test(e))return t;const r=[],o=e.split(/(h:|w:)([\d.]+)(,|\/|$)/g),a=o.length;let i=0;for(let e=2;e<a;e+=4)n.forEach((t,n)=>{r[n]=(r[n]||"")+o.slice(i,e).join("")+parseFloat(o[e])*t}),i=e+1;try{t=r.map((t,c)=>{if(t+=o.slice(i,a).join(""),1!==n[c])t+=" ".concat(n[c],"x");else if(t!==e)throw new Error([e,t]);return t}).join(",\n")}catch(e){}return t||void 0}const{headerTreatments:{FILL:o,FIT:a,INSET:i,BLUR:s,LEGACY_BLUR:u}}=(global.Core||guac["@wsb/guac-widget-core"]).constants;e.BLUR=s,e.CDN_REGEX=c,e.FILL=o,e.FIT=a,e.INSET=i,e.LEGACY_BLUR=u,e.addImageApiArgs=function(e,t){if(!t)return e;let n;return n="string"==typeof t?t.startsWith("/")?t:"/".concat(t):Object.keys(t).reduce((e,n)=>"".concat(e,"/").concat(n,"=").concat(t[n]),""),e.endsWith("/")&&(n=n.substr(1)),n?e.indexOf("/:/")>-1?"".concat(e).concat(n):"".concat(e,"/:").concat(n):e},e.generateBackgroundUrl=function(e,t=!0){const n=(global.Core||guac["@wsb/guac-widget-core"]).utils.generateBackgroundUrl(e);return t?n:n.replace(/\/rs=w:{width},h:{height},cg:true,m\/cr=w:{width},h:{height},a[x]?:[^/]*/,"").replace(/\/:$/,"")},e.getSrcSet=r,e.getVCTScript=function(e){if(!e)return"";const n=(r(e)||"").replace(/(\n)/gm," ");return"(function(){".concat(t.countVCTElement,';var i=new Image();i.onload=window.markVisuallyComplete;i.srcset="').concat(n||e,'";i.src="').concat(e,'";})()')},e.replaceImageSizeParams=function(e,t=""){return e&&"string"==typeof e?e.replace(/\/:\/rs=w:[0-9]*,h:[0-9]*/,t):""}})),"undefined"!=typeof window&&(window.global=window);
