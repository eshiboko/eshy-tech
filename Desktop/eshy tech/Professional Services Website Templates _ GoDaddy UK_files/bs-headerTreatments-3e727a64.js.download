define("@widget/LAYOUT/c/bs-headerTreatments-3e727a64.js",["exports","@widget/LAYOUT/c/bs-countVCTElement"],(function(t,c){"use strict";const n=[1,1.5,2,3],e=/[.-]wsimg\.com\//,o=/.+\/:\//;function r(t,c){const n=c.endsWith("%25")?"%25":"px";return"".concat(parseFloat(c)*t).concat(n)}function a(t){const c={};return t.split(",").forEach(t=>{const[n,e]=t.split(":");c[n]=e}),c}function s(t){const c=[];for(const[n,e]of Object.entries(t))c.push(e?"".concat(n,":").concat(e):n);return c.join(",")}function i(t){let c=void 0;if(!t||!e.test(t))return c;const i=[],{rs:l,cr:u}=function(t){if("string"!=typeof t||!o.test(t))return{};const c={};return(global._||guac.lodash).first((global._||guac.lodash).last(t.split("/:/")).split("/-/")).split("/").forEach(t=>{const[n,e]=t.split("=");c[n]=e}),c}(t);if(l){const e=a(l),o=u?a(u):{},{t:g,l:f}=o,d=g||f;if(!function({w:t,h:c}){const n=/^(\d(\.\d+)?)+(%25|px)?$/,e=n.exec(t),o=n.exec(c),r=t=>t[3]||"px";return t&&c?Boolean(e&&o&&r(e)===r(o)):Boolean(t&&e||c&&o)}((global._||guac.lodash).pick(e,["w","h"])))return c;n.forEach(c=>{const n=(global._||guac.lodash).pick(e,["w","h"]),a=(global._||guac.lodash).pick(o,["w","h"]);for(const t of Object.keys(n))n[t]=r(c,n[t]);if(!d)for(const t of Object.keys(a))a[t]=r(c,a[t]);let g=t.replace("rs=".concat(l),"rs=".concat(s(Object.assign({},e,n))));d||(g=g.replace("cr=".concat(u),"cr=".concat(s(Object.assign({},o,a))))),i.push("".concat(g," ").concat(c,"x"))})}return c=i.join(",\n"),c||void 0}const{headerTreatments:{FILL:l,FIT:u,INSET:g,BLUR:f,LEGACY_BLUR:d}}=(global.Core||guac["@wsb/guac-widget-core"]).constants;t.BLUR=f,t.CDN_REGEX=e,t.FILL=l,t.FIT=u,t.INSET=g,t.LEGACY_BLUR=d,t.addImageApiArgs=function(t,c){if(!c)return t;let n;return n="string"==typeof c?c.startsWith("/")?c:"/".concat(c):Object.keys(c).reduce((t,n)=>"".concat(t,"/").concat(n,"=").concat(c[n]),""),t.endsWith("/")&&(n=n.substr(1)),n?t.indexOf("/:/")>-1?"".concat(t).concat(n):"".concat(t,"/:").concat(n):t},t.generateBackgroundUrl=function(t,c=!0){const n=(global.Core||guac["@wsb/guac-widget-core"]).utils.generateBackgroundUrl(t);return c?n:n.replace(/\/rs=w:{width},h:{height},cg:true,m\/cr=w:{width},h:{height},a[x]?:[^/]*/,"").replace(/\/:$/,"")},t.getSrcSet=i,t.getVCTScript=function(t){if(!t)return"";const n=(i(t)||"").replace(/(\n)/gm," ");return"(function(){".concat(c.countVCTElement,';var i=new Image();i.onload=window.markVisuallyComplete;i.srcset="').concat(n||t,'";i.src="').concat(t,'";})()')},t.replaceImageSizeParams=function(t,c=""){return t&&"string"==typeof t?t.replace(/\/:\/rs=w:[0-9]*,h:[0-9]*/,c):""}})),"undefined"!=typeof window&&(window.global=window);
